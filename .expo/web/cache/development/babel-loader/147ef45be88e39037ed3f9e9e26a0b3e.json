{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nexport var VERIFYSTATUS = 'VERYFYSTATUS';\nexport var authenticate = function authenticate(status) {\n  return {\n    type: VERIFYSTATUS,\n    status: status\n  };\n};\nexport var otpverification = function otpverification(student_id, otp) {\n  return function _callee(dispatch) {\n    var details, formBody, property, encodedKey, encodedValue, response, resdata;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            details = {\n              student_id: student_id,\n              otp: otp\n            };\n            formBody = [];\n\n            for (property in details) {\n              encodedKey = encodeURIComponent(property);\n              encodedValue = encodeURIComponent(details[property]);\n              formBody.push(encodedKey + \"=\" + encodedValue);\n            }\n\n            formBody = formBody.join(\"&\");\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(fetch('http://ais.omsai.info/api/v1/verify_reg_otp', {\n              method: 'POST',\n              headers: {\n                'Authorization': 'Bearer token',\n                'Content-Type': 'application/x-www-form-urlencoded'\n              },\n              body: formBody\n            }));\n\n          case 6:\n            response = _context.sent;\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 9:\n            resdata = _context.sent;\n            dispatch(authenticate(resdata.status));\n            console.log(resdata.status);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["D:/Projects/react_native/Abhigyaan/store/action/otpverification.js"],"names":["VERIFYSTATUS","authenticate","status","type","otpverification","student_id","otp","dispatch","details","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","response","json","resdata","console","log"],"mappings":";AAAC,OAAO,IAAMA,YAAY,GAAC,cAAnB;AAER,OAAO,IAAMC,YAAY,GAAC,SAAbA,YAAa,CAACC,MAAD,EAAU;AAChC,SAAO;AAACC,IAAAA,IAAI,EAACH,YAAN;AAAmBE,IAAAA,MAAM,EAACA;AAA1B,GAAP;AACH,CAFM;AAQP,OAAO,IAAME,eAAe,GAAC,SAAhBA,eAAgB,CAACC,UAAD,EAAYC,GAAZ,EAAkB;AAE3C,SAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAEDC,YAAAA,OAFC,GAES;AACbH,cAAAA,UAAU,EAACA,UADE;AAEbC,cAAAA,GAAG,EAACA;AAFS,aAFT;AAOHG,YAAAA,QAPG,GAOQ,EAPR;;AAQP,iBAASC,QAAT,IAAqBF,OAArB,EAA8B;AACtBG,cAAAA,UADsB,GACTC,kBAAkB,CAACF,QAAD,CADT;AAEtBG,cAAAA,YAFsB,GAEPD,kBAAkB,CAACJ,OAAO,CAACE,QAAD,CAAR,CAFX;AAG1BD,cAAAA,QAAQ,CAACK,IAAT,CAAcH,UAAU,GAAG,GAAb,GAAmBE,YAAjC;AACH;;AACDJ,YAAAA,QAAQ,GAAGA,QAAQ,CAACM,IAAT,CAAc,GAAd,CAAX;AAbO;AAAA,6CAeaC,KAAK,CAAC,6CAAD,EAAgD;AACrEC,cAAAA,MAAM,EAAE,MAD6D;AAErEC,cAAAA,OAAO,EAAE;AACL,iCAAiB,cADZ;AAEL,gCAAgB;AAFX,eAF4D;AAMrEC,cAAAA,IAAI,EAAEV;AAN+D,aAAhD,CAflB;;AAAA;AAeFW,YAAAA,QAfE;AAAA;AAAA,6CA6BaA,QAAQ,CAACC,IAAT,EA7Bb;;AAAA;AA6BDC,YAAAA,OA7BC;AAkCRf,YAAAA,QAAQ,CAACN,YAAY,CAACqB,OAAO,CAACpB,MAAT,CAAb,CAAR;AAICqB,YAAAA,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACpB,MAApB;;AAtCO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAwCH,CA1CM","sourcesContent":[" export const VERIFYSTATUS='VERYFYSTATUS';\r\n\r\nexport const authenticate=(status)=>{\r\n    return {type:VERIFYSTATUS,status:status}\r\n}\r\n\r\n// console.log(\"reached here\")\r\n// export const addotp=(USerotp)=>{\r\n//     return{type:VERIFYOTP,USerotp:USerotp}\r\n// }\r\nexport const otpverification=(student_id,otp)=>{\r\n    \r\n    return async dispatch=>{\r\n\r\n      let details = {\r\n       student_id:student_id,\r\n       otp:otp\r\n    };\r\n\r\n    let formBody = [];\r\n    for (let property in details) {\r\n        let encodedKey = encodeURIComponent(property);\r\n        let encodedValue = encodeURIComponent(details[property]);\r\n        formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n   const response=await fetch('http://ais.omsai.info/api/v1/verify_reg_otp', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Authorization': 'Bearer token',\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: formBody\r\n    })\r\n    // if(response.status!=200){\r\n\r\n\r\n    //     throw new Error(\"there may be some entries missing\")\r\n\r\n    // }\r\n    const resdata=await response.json();\r\n    // if(resdata.status=!200){\r\n    //     throw new Error(\"there may be some entries missing\")\r\n    // }\r\n//    const  otp=resdata.data.otp\r\n   dispatch(authenticate(resdata.status))\r\n//    console.log(resdata)\r\n//    console.log(otp)\r\n   \r\n    console.log(resdata.status)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}